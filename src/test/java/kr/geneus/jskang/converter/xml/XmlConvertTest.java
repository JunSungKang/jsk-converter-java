package kr.geneus.jskang.converter.xml;

import static org.assertj.core.api.Assertions.assertThat;
import static org.assertj.core.api.Assertions.assertThatThrownBy;

import java.io.IOException;
import java.util.EmptyStackException;
import javax.xml.parsers.ParserConfigurationException;
import org.junit.jupiter.api.Test;

class XmlConvertTest {

	final String xml1 = "<note><to>Tove</to><from>Jani</from><heading>Reminder</heading><body>Don't forget me this weekend!</body></note>";
	final String xml2 = "<breakfast_menu><food><name>Belgian Waffles</name><price>$5.95</price><description>Two of our famous Belgian Waffles with plenty of real maple syrup</description><calories>650</calories></food><food><name>Strawberry Belgian Waffles</name><price>$7.95</price><description>Light Belgian waffles covered with strawberries and whipped cream</description><calories>900</calories></food><food><name>Berry-Berry Belgian Waffles</name><price>$8.95</price><description>Light Belgian waffles covered with an assortment of fresh berries and whipped cream</description><calories>900</calories></food><food><name>French Toast</name><price>$4.50</price><description>Thick slices made from our homemade sourdough bread</description><calories>600</calories></food><food><name>Homestyle Breakfast</name><price>$6.95</price><description>Two eggs, bacon or sausage, toast, and our ever-popular hash browns</description><calories>950</calories></food></breakfast_menu>";
	final String xml3 = "<project><modelVersion>4.0.0</modelVersion><parent><groupId>com.mycompany.app</groupId><artifactId>my-app</artifactId><version>1</version></parent><groupId>com.mycompany.app11</groupId><artifactId>my-module11</artifactId><version>11</version></project>";
	final String xml4 = "<bookstore><book category=\"COOKING\"><title lang=\"en\">Everyday Italian</title><author>Giada De Laurentiis</author><year>2005</year><price>30.00</price></book><book category=\"CHILDREN\"><title lang=\"en\">Harry Potter</title><author>J K. Rowling</author><year>2005</year><price>29.99</price></book><book category=\"WEB\"><title lang=\"en\">Learning XML</title><author>Erik T. Ray</author><year>2003</year><price>39.95</price></book></bookstore>";
	final String xml5 = "<LandXML xmlns=\"http://www.landxml.org/schema/LandXML-1.1\" xmlns:c=\"urn:au:gov:qld:nrm:schema:common\" xmlns:u=\"urn:au:gov:qld:nrm:schema:util\" xmlns:ns0=\"urn:au:gov:qld:nrm:service:location:parcelgraphics\" xmlns:s=\"urn:au:gov:qld:nrm:schema:service:location\" time=\"15:49:09\" date=\"2006-06-19\" version=\"0\" language=\"English\" readOnly=\"false\"><Units><Metric linearUnit=\"meter\" temperatureUnit=\"celsius\" volumeUnit=\"cubicMeter\" areaUnit=\"squareMeter\" pressureUnit=\"milliBars\" angularUnit=\"decimal dd.mm.ss\" directionUnit=\"decimal dd.mm.ss\"/></Units><Parcels><Parcel useOfParcel=\"Local Government\" class=\"Administrative Area\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"7330WHITSUNDAY SHIRE\" desc=\"WHITSUNDAY SHIRE\"/><Parcel useOfParcel=\"Locality\" class=\"Administrative Area\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"511CANNONVALE\" desc=\"CANNONVALE\"/><Parcel useOfParcel=\"Parish\" class=\"Administrative Area\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"1595DRYANDER\" desc=\"DRYANDER\"/><Parcel useOfParcel=\"County\" class=\"Administrative Area\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"138HERBERT\" desc=\"HERBERT\"/><Parcel useOfParcel=\"Parish\" class=\"Administrative Area\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"1216CONWAY\" desc=\"CONWAY\"/><Parcel class=\"lot\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"25/RP726990\" area=\"862.00\" desc=\"61975/8 \"><Center pntRef=\"CENTRE 3\"/><CoordGeom><Line desc=\"RIGHT-LINE ROAD\"><Start pntRef=\"AA\"/><End pntRef=\"AO\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AO\"/><End pntRef=\"AM\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AM\"/><End pntRef=\"AK\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AK\"/><End pntRef=\"AH\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AH\"/><End pntRef=\"AA\"/></Line></CoordGeom><Parcels><Parcel name=\"7330WHITSUNDAY SHIRE\" pclRef=\"7330WHITSUNDAY SHIRE\"/><Parcel name=\"511CANNONVALE\" pclRef=\"511CANNONVALE\"/><Parcel name=\"1595DRYANDER\" pclRef=\"1595DRYANDER\"/><Parcel name=\"138HERBERT\" pclRef=\"138HERBERT\"/></Parcels><Title titleType=\"title\" name=\"20995221\"/><Exclusions exclusionType=\"area\" area=\"0.00\"/><Feature><Property value=\"Y\" label=\"areaSurveyedFlag\"/><Property value=\"Freehold\" label=\"dcdbTenureRecord\"/></Feature></Parcel><Parcel class=\"lot\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"24/SP158618\" area=\"41890.00\" desc=\"62004/368 \"><Center pntRef=\"CENTRE 5\"/><CoordGeom><Line desc=\"RIGHT-LINE ROAD\"><Start pntRef=\"AV\"/><End pntRef=\"BA\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"BA\"/><End pntRef=\"AQ\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AQ\"/><End pntRef=\"AG\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AG\"/><End pntRef=\"AN\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AN\"/><End pntRef=\"AI\"/></Line><Line desc=\"RIGHT-LINE ROAD\"><Start pntRef=\"AI\"/><End pntRef=\"AE\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AE\"/><End pntRef=\"M\"/></Line><Line><Start pntRef=\"M\"/><End pntRef=\"1-IS185989\"/></Line><Line><Start pntRef=\"1-IS185989\"/><End pntRef=\"2-IS185989\"/></Line><Line><Start pntRef=\"2-IS185989\"/><End pntRef=\"J\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"J\"/><End pntRef=\"BG\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"BG\"/><End pntRef=\"C\"/></Line><Line desc=\"RIGHT-LINE ROAD\"><Start pntRef=\"C\"/><End pntRef=\"AT\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AT\"/><End pntRef=\"AU\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AU\"/><End pntRef=\"BC\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"BC\"/><End pntRef=\"B\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"B\"/><End pntRef=\"AF\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AF\"/><End pntRef=\"AC\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AC\"/><End pntRef=\"G\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"G\"/><End pntRef=\"S\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"S\"/><End pntRef=\"N\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"N\"/><End pntRef=\"O\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"O\"/><End pntRef=\"K\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"K\"/><End pntRef=\"T\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"T\"/><End pntRef=\"AV\"/></Line></CoordGeom><Parcels><Parcel name=\"7330WHITSUNDAY SHIRE\" pclRef=\"7330WHITSUNDAY SHIRE\"/><Parcel name=\"511CANNONVALE\" pclRef=\"511CANNONVALE\"/><Parcel name=\"1595DRYANDER\" pclRef=\"1595DRYANDER\"/><Parcel name=\"138HERBERT\" pclRef=\"138HERBERT\"/></Parcels><Title titleType=\"title\" name=\"50445417\"/><Exclusions exclusionType=\"area\" area=\"0.00\"/><Feature><Property value=\"Y\" label=\"areaSurveyedFlag\"/><Property value=\"Freehold\" label=\"dcdbTenureRecord\"/></Feature></Parcel><Parcel class=\"lot\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"28/RP726990\" area=\"4026.00\" desc=\"61975/2 \"><Center pntRef=\"CENTRE 4\"/><CoordGeom><Line><Start pntRef=\"7-IS185989\"/><End pntRef=\"4-IS185989\"/></Line><Line><Start pntRef=\"4-IS185989\"/><End pntRef=\"3-IS185989\"/></Line><Line><Start pntRef=\"3-IS185989\"/><End pntRef=\"2-IS185989\"/></Line><Line><Start pntRef=\"2-IS185989\"/><End pntRef=\"1-IS185989\"/></Line><Line><Start pntRef=\"1-IS185989\"/><End pntRef=\"A\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"A\"/><End pntRef=\"Q\"/></Line><Line desc=\"RIGHT-LINE ROAD\"><Start pntRef=\"Q\"/><End pntRef=\"W\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"W\"/><End pntRef=\"E\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"E\"/><End pntRef=\"AD\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AD\"/><End pntRef=\"Y\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"Y\"/><End pntRef=\"I\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"I\"/><End pntRef=\"AY\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AY\"/><End pntRef=\"L\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"L\"/><End pntRef=\"AJ\"/></Line><Line desc=\"RIGHT-LINE ROAD\"><Start pntRef=\"AJ\"/><End pntRef=\"AB\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AB\"/><End pntRef=\"BE\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"BE\"/><End pntRef=\"D\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"D\"/><End pntRef=\"AR\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AR\"/><End pntRef=\"AH\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AH\"/><End pntRef=\"AK\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AK\"/><End pntRef=\"AM\"/></Line><Line desc=\"RIGHT-LINE\"><Start pntRef=\"AM\"/><End pntRef=\"AO\"/></Line><Line><Start pntRef=\"AO\"/><End pntRef=\"73-IS185989\"/></Line><Line><Start pntRef=\"73-IS185989\"/><End pntRef=\"72-IS185989\"/></Line><Line><Start pntRef=\"72-IS185989\"/><End pntRef=\"71-IS185989\"/></Line><Line><Start pntRef=\"71-IS185989\"/><End pntRef=\"70-IS185989\"/></Line><Line><Start pntRef=\"70-IS185989\"/><End pntRef=\"7-IS185989\"/></Line></CoordGeom><Parcels><Parcel name=\"7330WHITSUNDAY SHIRE\" pclRef=\"7330WHITSUNDAY SHIRE\"/><Parcel name=\"511CANNONVALE\" pclRef=\"511CANNONVALE\"/><Parcel name=\"1595DRYANDER\" pclRef=\"1595DRYANDER\"/><Parcel name=\"138HERBERT\" pclRef=\"138HERBERT\"/></Parcels><Title titleType=\"title\" name=\"20995224\"/><Exclusions exclusionType=\"area\" area=\"0.00\"/><Feature><Property value=\"Y\" label=\"areaSurveyedFlag\"/><Property value=\"Freehold\" label=\"dcdbTenureRecord\"/></Feature></Parcel><Parcel parcelType=\"single\" name=\"27/RP726990\" state=\"affected\" parcelFormat=\"Standard\" class=\"lot\"><Center pntRef=\"CENTRE 2\"/><CoordGeom><Line><Start pntRef=\"74-IS185989\"/><End pntRef=\"7-IS185989\"/></Line><Line><Start pntRef=\"7-IS185989\"/><End pntRef=\"70-IS185989\"/></Line><Line><Start pntRef=\"70-IS185989\"/><End pntRef=\"71-IS185989\"/></Line><Line><Start pntRef=\"71-IS185989\"/><End pntRef=\"74-IS185989\"/></Line></CoordGeom><Parcels><Parcel name=\"7330WHITSUNDAY SHIRE\" pclRef=\"7330WHITSUNDAY SHIRE\"/><Parcel name=\"511CANNONVALE\" pclRef=\"511CANNONVALE\"/><Parcel name=\"1595DRYANDER\" pclRef=\"1595DRYANDER\"/><Parcel name=\"138HERBERT\" pclRef=\"138HERBERT\"/></Parcels><Title titleType=\"title\" name=\"20995223\"/><Exclusions exclusionType=\"area\" area=\"0.00\"/><Feature><Property value=\"Y\" label=\"areaSurveyedFlag\"/><Property value=\"Freehold\" label=\"dcdbTenureRecord\"/></Feature></Parcel><Parcel class=\"road\" parcelFormat=\"Standard\" state=\"existing\" parcelType=\"single\" name=\"R1\" desc=\"PROSERPINE SHUTE HARBOUR ROAD\"><CoordGeom><Line><Start pntRef=\"CLIPPED 13\"/><End pntRef=\"F\"/></Line><Line><Start pntRef=\"F\"/><End pntRef=\"AX\"/></Line><Line><Start pntRef=\"AX\"/><End pntRef=\"R\"/></Line><Line><Start pntRef=\"R\"/><End pntRef=\"P\"/></Line><Line><Start pntRef=\"P\"/><End pntRef=\"AP\"/></Line><Line><Start pntRef=\"AP\"/><End pntRef=\"CLIPPED 15\"/></Line><Line><Start pntRef=\"CLIPPED 15\"/><End pntRef=\"CLIPPED 16\"/></Line><Line><Start pntRef=\"CLIPPED 16\"/><End pntRef=\"3-IS185989\"/></Line><Line><Start pntRef=\"3-IS185989\"/><End pntRef=\"4-IS185989\"/></Line><Line><Start pntRef=\"4-IS185989\"/><End pntRef=\"7-IS185989\"/></Line><Line><Start pntRef=\"7-IS185989\"/><End pntRef=\"74-IS185989\"/></Line><Line><Start pntRef=\"74-IS185989\"/><End pntRef=\"73-IS185989\"/></Line><Line><Start pntRef=\"73-IS185989\"/><End pntRef=\"AO\"/></Line><Line><Start pntRef=\"AO\"/><End pntRef=\"AA\"/></Line><Line><Start pntRef=\"AA\"/><End pntRef=\"BF\"/></Line><Line><Start pntRef=\"BF\"/><End pntRef=\"AL\"/></Line><Line><Start pntRef=\"AL\"/><End pntRef=\"AB\"/></Line><Line><Start pntRef=\"AB\"/><End pntRef=\"AJ\"/></Line><Line><Start pntRef=\"AJ\"/><End pntRef=\"CLIPPED 14\"/></Line><Line><Start pntRef=\"CLIPPED 14\"/><End pntRef=\"CLIPPED 13\"/></Line></CoordGeom><Parcels><Parcel name=\"7330WHITSUNDAY SHIRE\" pclRef=\"7330WHITSUNDAY SHIRE\"/><Parcel name=\"511CANNONVALE\" pclRef=\"511CANNONVALE\"/><Parcel name=\"1595DRYANDER\" pclRef=\"1595DRYANDER\"/><Parcel name=\"138HERBERT\" pclRef=\"138HERBERT\"/><Parcel name=\"1216CONWAY\" pclRef=\"1216CONWAY\"/></Parcels></Parcel><Parcel parcelType=\"single\" name=\"26/RP726990\" state=\"affected\" parcelFormat=\"Standard\" class=\"lot\"><Center pntRef=\"CENTRE 1\"/><CoordGeom><Line><Start pntRef=\"73-IS185989\"/><End pntRef=\"74-IS185989\"/></Line><Line><Start pntRef=\"74-IS185989\"/><End pntRef=\"71-IS185989\"/></Line><Line><Start pntRef=\"71-IS185989\"/><End pntRef=\"72-IS185989\"/></Line><Line><Start pntRef=\"72-IS185989\"/><End pntRef=\"73-IS185989\"/></Line></CoordGeom><Parcels><Parcel name=\"7330WHITSUNDAY SHIRE\" pclRef=\"7330WHITSUNDAY SHIRE\"/><Parcel name=\"511CANNONVALE\" pclRef=\"511CANNONVALE\"/><Parcel name=\"1595DRYANDER\" pclRef=\"1595DRYANDER\"/><Parcel name=\"138HERBERT\" pclRef=\"138HERBERT\"/></Parcels><Title titleType=\"title\" name=\"20995222\"/><Exclusions exclusionType=\"area\" area=\"0.00\"/><Feature><Property value=\"Y\" label=\"areaSurveyedFlag\"/><Property value=\"Freehold\" label=\"dcdbTenureRecord\"/></Feature></Parcel></Parcels><CgPoints><CgPoint oID=\"2748159\" state=\"existing\" pntSurv=\"boundary\" name=\"Q\">312.04999999981374 274.33400000003166</CgPoint><CgPoint oID=\"2748179\" state=\"existing\" pntSurv=\"boundary\" name=\"W\">308.8430000003427 277.0350000000326</CgPoint><CgPoint oID=\"2746236\" state=\"existing\" pntSurv=\"boundary\" name=\"M\">306.9670000001788 19.508999999961816</CgPoint><CgPoint oID=\"2747923\" state=\"existing\" pntSurv=\"boundary\" name=\"A\">299.08600000012666 243.1260000000475</CgPoint><CgPoint oID=\"2747963\" state=\"existing\" pntSurv=\"boundary\" name=\"E\">297.18699999991804 248.94700000004377</CgPoint><CgPoint oID=\"2748003\" state=\"existing\" pntSurv=\"boundary\" name=\"AD\">284.1919999998063 254.34600000001956</CgPoint><CgPoint oID=\"2747993\" state=\"existing\" pntSurv=\"boundary\" name=\"Y\">274.27699999976903 253.05200000002515</CgPoint><CgPoint oID=\"2746221\" state=\"existing\" pntSurv=\"boundary\" name=\"AE\">269.61700000055134 16.609000000054948</CgPoint><CgPoint oID=\"2747974\" state=\"existing\" pntSurv=\"boundary\" name=\"I\">253.8500000005588 250.3860000000568</CgPoint><CgPoint oID=\"2746208\" state=\"existing\" pntSurv=\"boundary\" name=\"AI\">249.67599999997765 15.059000000008382</CgPoint><CgPoint oID=\"2746258\" state=\"existing\" pntSurv=\"boundary\" name=\"AN\">249.10699999984354 22.69900000002235</CgPoint><CgPoint oID=\"2747957\" state=\"existing\" pntSurv=\"boundary\" name=\"AY\">234.32600000035018 247.83600000001024</CgPoint><CgPoint oID=\"2747935\" state=\"existing\" pntSurv=\"boundary\" name=\"BE\">228.44500000029802 243.9899999999907</CgPoint><CgPoint oID=\"2748222\" state=\"existing\" pntSurv=\"boundary\" name=\"L\">216.13900000043213 281.96200000005774</CgPoint><CgPoint oID=\"2747914\" state=\"existing\" pntSurv=\"boundary\" name=\"D\">207.25800000037998 241.22299999999814</CgPoint><CgPoint oID=\"2746245\" state=\"existing\" pntSurv=\"boundary\" name=\"AG\">209.2280000001192 19.601000000024214</CgPoint><CgPoint oID=\"2748453\" state=\"existing\" pntSurv=\"boundary\" name=\"AJ\">201.55900000035763 309.3170000000391</CgPoint><CgPoint oID=\"0\" pntSurv=\"sideshot\" name=\"CENTRE 5\">197.6469999998808 130.39100000006147</CgPoint><CgPoint oID=\"2748417\" state=\"existing\" pntSurv=\"boundary\" name=\"AB\">195.38200000021607 306.0239999999758</CgPoint><CgPoint oID=\"2747889\" state=\"existing\" pntSurv=\"boundary\" name=\"AR\">186.0690000001341 238.45799999998417</CgPoint><CgPoint oID=\"2748345\" state=\"existing\" pntSurv=\"boundary\" name=\"AL\">177.73199999984354 296.61900000006426</CgPoint><CgPoint oID=\"2746114\" state=\"existing\" pntSurv=\"boundary\" name=\"BA\">170.50999999977648 1.5500000000465661</CgPoint><CgPoint oID=\"0\" pntSurv=\"sideshot\" name=\"CENTRE 4\">167.49200000055134 230.97499999997672</CgPoint><CgPoint oID=\"2746229\" state=\"existing\" pntSurv=\"boundary\" name=\"AQ\">169.34800000023097 16.50199999997858</CgPoint><CgPoint oID=\"2747875\" state=\"existing\" pntSurv=\"boundary\" name=\"AH\">164.88100000005215 235.69200000003912</CgPoint><CgPoint oID=\"2748201\" state=\"existing\" pntSurv=\"boundary\" name=\"BF\">160.08200000040233 287.21200000005774</CgPoint><CgPoint oID=\"2747864\" state=\"existing\" pntSurv=\"boundary\" name=\"AK\">149.64300000015646 233.70100000000093</CgPoint><CgPoint oID=\"2746106\" state=\"existing\" pntSurv=\"boundary\" name=\"AV\">150.5690000001341 0.0</CgPoint><CgPoint oID=\"2746382\" state=\"existing\" pntSurv=\"boundary\" name=\"T\">147.97300000023097 34.398999999975786</CgPoint><CgPoint oID=\"0\" pntSurv=\"sideshot\" name=\"CENTRE 3\">144.2140000006184 255.48100000002887</CgPoint><CgPoint oID=\"2748130\" state=\"existing\" pntSurv=\"boundary\" name=\"AA\">142.43300000019372 277.8059999999823</CgPoint><CgPoint oID=\"2747893\" state=\"existing\" pntSurv=\"boundary\" name=\"AM\">140.86899999994785 238.22100000001956</CgPoint><CgPoint oID=\"2746759\" state=\"existing\" pntSurv=\"boundary\" name=\"G\">132.15400000009686 86.33900000003632</CgPoint><CgPoint oID=\"2747176\" state=\"existing\" pntSurv=\"boundary\" name=\"AF\">130.07200000062585 132.87300000002142</CgPoint><CgPoint oID=\"2747122\" state=\"existing\" pntSurv=\"boundary\" name=\"AC\">126.89199999999255 126.35699999995995</CgPoint><CgPoint oID=\"2747389\" state=\"existing\" pntSurv=\"boundary\" name=\"B\">126.09900000039488 163.07499999995343</CgPoint><CgPoint oID=\"0\" state=\"existing\" pntSurv=\"boundary\" name=\"AO\">124.7839999999851 268.40099999995437</CgPoint><CgPoint oID=\"2746365\" state=\"existing\" pntSurv=\"boundary\" name=\"K\">126.93800000008196 32.75199999997858</CgPoint><CgPoint oID=\"2746564\" state=\"existing\" pntSurv=\"boundary\" name=\"S\">119.63700000010431 57.09400000004098</CgPoint><CgPoint oID=\"0\" pntSurv=\"sideshot\" name=\"CENTRE 1\">116.75700000021607 246.76800000004005</CgPoint><CgPoint oID=\"2746398\" state=\"existing\" pntSurv=\"boundary\" name=\"N\">110.62000000011176 36.02800000004936</CgPoint><CgPoint oID=\"2746351\" state=\"existing\" pntSurv=\"boundary\" name=\"O\">108.60300000011921 31.315999999991618</CgPoint><CgPoint oID=\"2748406\" state=\"existing\" pntSurv=\"boundary\" name=\"F\">104.97800000011921 303.7410000000382</CgPoint><CgPoint oID=\"2747374\" state=\"existing\" pntSurv=\"boundary\" name=\"BC\">106.26900000032037 160.46900000004098</CgPoint><CgPoint oID=\"2747358\" state=\"existing\" pntSurv=\"boundary\" name=\"AU\">86.43800000008196 157.8619999999646</CgPoint><CgPoint oID=\"0\" pntSurv=\"sideshot\" name=\"CENTRE 2\">84.73199999984354 236.14199999999255</CgPoint><CgPoint oID=\"2747337\" state=\"existing\" pntSurv=\"boundary\" name=\"AT\">66.60800000000745 155.25600000005215</CgPoint><CgPoint oID=\"2747333\" state=\"existing\" pntSurv=\"boundary\" name=\"C\">58.67700000014156 154.21400000003632</CgPoint><CgPoint oID=\"2748188\" state=\"existing\" pntSurv=\"boundary\" name=\"AX\">50.32700000051409 274.93900000001304</CgPoint><CgPoint oID=\"2747326\" state=\"existing\" pntSurv=\"boundary\" name=\"BG\">48.72099999990314 152.90700000000652</CgPoint><CgPoint oID=\"2748143\" state=\"existing\" pntSurv=\"boundary\" name=\"R\">40.683000000193715 269.85600000002887</CgPoint><CgPoint oID=\"2747575\" state=\"existing\" pntSurv=\"boundary\" name=\"J\">29.174999999813735 196.35699999995995</CgPoint><CgPoint oID=\"2748078\" state=\"existing\" pntSurv=\"boundary\" name=\"P\">25.644000000320375 261.9320000000298</CgPoint><CgPoint oID=\"0\" state=\"existing\" pntSurv=\"boundary\" name=\"AP\">10.604000000283122 254.00500000000466</CgPoint><CgPoint pntSurv=\"sideshot\" name=\"CLIPPED 13\">122.93400000035763 313.2029999999795</CgPoint><CgPoint pntSurv=\"sideshot\" name=\"CLIPPED 14\">210.52799999993294 314.09900000004563</CgPoint><CgPoint pntSurv=\"sideshot\" name=\"CLIPPED 15\">0.0 248.41700000001583</CgPoint><CgPoint pntSurv=\"sideshot\" name=\"CLIPPED 16\">0.7609999999403954 174.00899999996182</CgPoint><CgPoint oID=\"2747838\" state=\"existing\" pntSurv=\"boundary\" name=\"7-IS185989\">53.213000000454485 230.25699999998324</CgPoint><CgPoint oID=\"0\" state=\"existing\" pntSurv=\"boundary\" name=\"3-IS185989\">24.100999999791384 207.64300000004005</CgPoint><CgPoint oID=\"2747645\" state=\"existing\" pntSurv=\"boundary\" name=\"4-IS185989\">5.418000000528991 204.7839999999851</CgPoint><CgPoint oID=\"2747660\" state=\"existing\" pntSurv=\"boundary\" name=\"2-IS185989\">37.747000000439584 209.40399999998044</CgPoint><CgPoint oID=\"2747913\" state=\"existing\" pntSurv=\"boundary\" name=\"1-IS185989\">289.7020000005141 241.90200000000186</CgPoint><CgPoint oID=\"2747769\" state=\"existing\" pntSurv=\"boundary\" name=\"70-IS185989\">60.225999999791384 222.02899999998044</CgPoint><CgPoint oID=\"2747822\" state=\"existing\" pntSurv=\"boundary\" name=\"71-IS185989\">111.90600000042468 228.77700000000186</CgPoint><CgPoint oID=\"2747847\" state=\"existing\" pntSurv=\"boundary\" name=\"72-IS185989\">136.2730000000447 231.95799999998417</CgPoint><CgPoint oID=\"2748096\" state=\"existing\" pntSurv=\"boundary\" name=\"73-IS185989\">118.60500000044703 265.10900000005495</CgPoint><CgPoint oID=\"2748017\" state=\"existing\" pntSurv=\"boundary\" name=\"74-IS185989\">98.30900000035763 254.29099999996834</CgPoint></CgPoints><Survey><SurveyHeader name=\"IS185989\" headOfPower=\"Survey and Mapping Infrastructure Act 2003\" surveyFormat=\"Identification\" surveyPurpose=\"Identification\" desc=\"Plan of Identification Survey of Lots 26 &amp; 27 on RP726990 \" type=\"surveyed\" surveyStatus=\"Survey Records Only\" fieldNoteFlag=\"false\" submissionDate=\"2006-04-07\" documentStatus=\"Captured\"><CoordinateSystem horizontalDatum=\"Local\" verticalDatum=\"Arbitrary\"/><Personnel name=\"PIONEER SURVEYS PTY LTD(ACN 072 669 311)\" role=\"Signatory\" regType=\"Cadastral Surveyor\" regNumber=\"1919\"/><Personnel name=\"David Andrew ADA\" role=\"Surveyed By\" regType=\"Graduate\" regNumber=\"918\"/><Personnel name=\"Timothy McQUOID-MASON\" role=\"Supervised By\" regType=\"Cadastral Surveyor\" regNumber=\"1890\"/><SurveyorCertificate name=\"Form13V2\" certificateType=\"Form13V2\" textCertificate=\"PIONEER SURVEYS PTY LTD (ACN 669 311) hereby certify that 2 the corporation, by David Andrew ADA (Graduate), for whose work the corporation accepts responsibility, under the supervision of Timothy McQUOID-MASON, cadastral surveyor surveyed the land comprised in this plan and that the plan is accurate, that the said survey was performed in accordance with the Survey and Mapping Infrastructure Act 2003 and Surveyors Act 2003 and associated Regulations and Standards and that the said survey was completed on 28/02/2006\" surveyDate=\"2006-02-28\"/><AdministrativeArea adminAreaType=\"Parish\" adminAreaName=\"DRYANDER\" adminAreaCode=\"1595\"/><AdministrativeArea adminAreaType=\"County\" adminAreaName=\"HERBERT\" adminAreaCode=\"HR\"/><AdministrativeArea adminAreaType=\"Local Government Area\" adminAreaName=\"WHITSUNDAY SHIRE\" adminAreaCode=\"7330\"/><AdministrativeArea adminAreaType=\"Locality\" adminAreaName=\"CANNONVALE\" adminAreaCode=\"511\"/></SurveyHeader><InstrumentSetup id=\"IS-7-IS185989\" stationName=\"7-IS185989\" instrumentHeight=\"0\"><InstrumentPoint pntRef=\"7-IS185989\"/></InstrumentSetup><InstrumentSetup id=\"IS-70-IS185989\" stationName=\"70-IS185989\" instrumentHeight=\"0\"><InstrumentPoint pntRef=\"70-IS185989\"/></InstrumentSetup><InstrumentSetup id=\"IS-71-IS185989\" stationName=\"71-IS185989\" instrumentHeight=\"0\"><InstrumentPoint pntRef=\"71-IS185989\"/></InstrumentSetup><InstrumentSetup id=\"IS-72-IS185989\" stationName=\"72-IS185989\" instrumentHeight=\"0\"><InstrumentPoint pntRef=\"72-IS185989\"/></InstrumentSetup><InstrumentSetup id=\"IS-73-IS185989\" stationName=\"73-IS185989\" instrumentHeight=\"0\"><InstrumentPoint pntRef=\"73-IS185989\"/></InstrumentSetup><InstrumentSetup id=\"IS-74-IS185989\" stationName=\"74-IS185989\" instrumentHeight=\"0\"><InstrumentPoint pntRef=\"74-IS185989\"/></InstrumentSetup><ObservationGroup id=\"OG-1\"><ReducedObservation name=\"3\" setupID=\"IS-7-IS185989\" targetSetupID=\"IS-70-IS185989\" azimuth=\"302.504\" horizDistance=\"10.81\" distanceType=\"measured\" azimuthType=\"measured\" purpose=\"traverse\" equipmentUsed=\"theodolite EDM\"/><ReducedObservation name=\"6\" setupID=\"IS-72-IS185989\" targetSetupID=\"IS-73-IS185989\" azimuth=\"110.274\" horizDistance=\"37.55\" distanceType=\"measured\" azimuthType=\"measured\" purpose=\"traverse\" equipmentUsed=\"theodolite EDM\"/><ReducedObservation name=\"4\" setupID=\"IS-70-IS185989\" targetSetupID=\"IS-71-IS185989\" azimuth=\"359.512\" horizDistance=\"52.12\" distanceType=\"measured\" azimuthType=\"measured\" purpose=\"traverse\" equipmentUsed=\"theodolite EDM\"/><ReducedObservation name=\"5\" setupID=\"IS-71-IS185989\" targetSetupID=\"IS-72-IS185989\" azimuth=\"359.512\" horizDistance=\"24.574\" distanceType=\"measured\" azimuthType=\"measured\" purpose=\"traverse\" equipmentUsed=\"theodolite EDM\"/><ReducedObservation name=\"7\" setupID=\"IS-73-IS185989\" targetSetupID=\"IS-74-IS185989\" azimuth=\"200.274\" horizDistance=\"2.002\" distanceType=\"measured\" azimuthType=\"measured\" purpose=\"traverse\" equipmentUsed=\"theodolite EDM\"/><ReducedObservation name=\"8\" setupID=\"IS-74-IS185989\" targetSetupID=\"IS-7-IS185989\" azimuth=\"200.274\" horizDistance=\"51.105\" distanceType=\"measured\" azimuthType=\"measured\" purpose=\"traverse\" equipmentUsed=\"theodolite EDM\"/></ObservationGroup></Survey><CoordinateSystem datum=\"OfPlan\" desc=\"Vide IS185958\"/></LandXML>";

	@Test
	void build1Success() throws ParserConfigurationException, IOException {
		XmlConvert xmlConvert = new XmlConvert();
		assertThat(xmlConvert.toMap(this.xml1).toString())
			.isEqualTo(
				"{attributes={note={to={}, from={}, heading={}, body={}}}, value={note={to=Tove, from=Jani, heading=Reminder, body=Don't forget me this weekend!}}}"
			);

		assertThat(xmlConvert.toMap(this.xml2).toString())
			.isEqualTo(
				"{attributes={breakfast_menu={food={name={}, price={}, description={}, calories={}}}}, value={breakfast_menu={food={name=Homestyle Breakfast, price=$6.95, description=Two eggs, bacon or sausage, toast, and our ever-popular hash browns, calories=950}}}}"
			);

		assertThat(xmlConvert.toMap(this.xml3).toString())
			.isEqualTo(
				"{attributes={project={modelVersion={}, parent={groupId={}, artifactId={}, version={}}, groupId={}, artifactId={}, version={}}}, value={project={modelVersion=4.0.0, parent={groupId=com.mycompany.app, artifactId=my-app, version=1}, groupId=com.mycompany.app11, artifactId=my-module11, version=11}}}"
			);

		assertThat(xmlConvert.toMap(this.xml4).toString())
			.isEqualTo(
				"{attributes={bookstore={book={category=[COOKING, CHILDREN, WEB], title={lang=[en, en, en]}, author={}, year={}, price={}}}}, value={bookstore={book={title=Learning XML, author=Erik T. Ray, year=2003, price=39.95}}}}"
			);

		assertThat(xmlConvert.toMap(this.xml5).toString())
			.isEqualTo(
				"{attributes={LandXML={date=[2006-06-19], language=[English], readOnly=[false], time=[15:49:09], version=[0], xmlns=[http://www.landxml.org/schema/LandXML-1.1], xmlns:c=[urn:au:gov:qld:nrm:schema:common], xmlns:ns0=[urn:au:gov:qld:nrm:service:location:parcelgraphics], xmlns:s=[urn:au:gov:qld:nrm:schema:service:location], xmlns:u=[urn:au:gov:qld:nrm:schema:util], Units={}, Parcels={Parcel={class=[Administrative Area, Administrative Area, Administrative Area, Administrative Area, Administrative Area, lot, lot, lot, lot, road, lot], desc=[WHITSUNDAY SHIRE, CANNONVALE, DRYANDER, HERBERT, CONWAY, 61975/8 , 62004/368 , 61975/2 , PROSERPINE SHUTE HARBOUR ROAD], name=[7330WHITSUNDAY SHIRE, 511CANNONVALE, 1595DRYANDER, 138HERBERT, 1216CONWAY, 25/RP726990, 24/SP158618, 28/RP726990, 27/RP726990, R1, 26/RP726990], parcelFormat=[Standard, Standard, Standard, Standard, Standard, Standard, Standard, Standard, Standard, Standard, Standard], parcelType=[single, single, single, single, single, single, single, single, single, single, single], state=[existing, existing, existing, existing, existing, existing, existing, existing, affected, existing, affected], useOfParcel=[Local Government, Locality, Parish, County, Parish], area=[862.00, 41890.00, 4026.00], Center={pntRef=[CENTRE 3, CENTRE 5, CENTRE 4, CENTRE 2, CENTRE 1]}, CoordGeom={Line={Start={pntRef=[72-IS185989]}, End={pntRef=[73-IS185989]}}}, Parcels={Parcel={name=[7330WHITSUNDAY SHIRE, 511CANNONVALE, 1595DRYANDER, 138HERBERT], pclRef=[7330WHITSUNDAY SHIRE, 511CANNONVALE, 1595DRYANDER, 138HERBERT]}}, Title={name=[20995221, 50445417, 20995224, 20995223, 20995222], titleType=[title, title, title, title, title]}, Exclusions={area=[0.00, 0.00, 0.00, 0.00, 0.00], exclusionType=[area, area, area, area, area]}, Feature={Property={label=[areaSurveyedFlag, dcdbTenureRecord], value=[Y, Freehold]}}}}, CgPoints={CgPoint={name=[Q, W, M, A, E, AD, Y, AE, I, AI, AN, AY, BE, L, D, AG, AJ, CENTRE 5, AB, AR, AL, BA, CENTRE 4, AQ, AH, BF, AK, AV, T, CENTRE 3, AA, AM, G, AF, AC, B, AO, K, S, CENTRE 1, N, O, F, BC, AU, CENTRE 2, AT, C, AX, BG, R, J, P, AP, CLIPPED 13, CLIPPED 14, CLIPPED 15, CLIPPED 16, 7-IS185989, 3-IS185989, 4-IS185989, 2-IS185989, 1-IS185989, 70-IS185989, 71-IS185989, 72-IS185989, 73-IS185989, 74-IS185989], oID=[2748159, 2748179, 2746236, 2747923, 2747963, 2748003, 2747993, 2746221, 2747974, 2746208, 2746258, 2747957, 2747935, 2748222, 2747914, 2746245, 2748453, 0, 2748417, 2747889, 2748345, 2746114, 0, 2746229, 2747875, 2748201, 2747864, 2746106, 2746382, 0, 2748130, 2747893, 2746759, 2747176, 2747122, 2747389, 0, 2746365, 2746564, 0, 2746398, 2746351, 2748406, 2747374, 2747358, 0, 2747337, 2747333, 2748188, 2747326, 2748143, 2747575, 2748078, 0, 2747838, 0, 2747645, 2747660, 2747913, 2747769, 2747822, 2747847, 2748096, 2748017], pntSurv=[boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, sideshot, boundary, boundary, boundary, boundary, sideshot, boundary, boundary, boundary, boundary, boundary, boundary, sideshot, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, sideshot, boundary, boundary, boundary, boundary, boundary, sideshot, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, sideshot, sideshot, sideshot, sideshot, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary, boundary], state=[existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing, existing]}}, Survey={SurveyHeader={desc=[Plan of Identification Survey of Lots 26 & 27 on RP726990 ], documentStatus=[Captured], fieldNoteFlag=[false], headOfPower=[Survey and Mapping Infrastructure Act 2003], name=[IS185989], submissionDate=[2006-04-07], surveyFormat=[Identification], surveyPurpose=[Identification], surveyStatus=[Survey Records Only], type=[surveyed], CoordinateSystem={horizontalDatum=[Local], verticalDatum=[Arbitrary]}, Personnel={name=[PIONEER SURVEYS PTY LTD(ACN 072 669 311), David Andrew ADA, Timothy McQUOID-MASON], regNumber=[1919, 918, 1890], regType=[Cadastral Surveyor, Graduate, Cadastral Surveyor], role=[Signatory, Surveyed By, Supervised By]}, SurveyorCertificate={certificateType=[Form13V2], name=[Form13V2], surveyDate=[2006-02-28], textCertificate=[PIONEER SURVEYS PTY LTD (ACN 669 311) hereby certify that 2 the corporation, by David Andrew ADA (Graduate), for whose work the corporation accepts responsibility, under the supervision of Timothy McQUOID-MASON, cadastral surveyor surveyed the land comprised in this plan and that the plan is accurate, that the said survey was performed in accordance with the Survey and Mapping Infrastructure Act 2003 and Surveyors Act 2003 and associated Regulations and Standards and that the said survey was completed on 28/02/2006]}, AdministrativeArea={adminAreaCode=[1595, HR, 7330, 511], adminAreaName=[DRYANDER, HERBERT, WHITSUNDAY SHIRE, CANNONVALE], adminAreaType=[Parish, County, Local Government Area, Locality]}}, InstrumentSetup={id=[IS-7-IS185989, IS-70-IS185989, IS-71-IS185989, IS-72-IS185989, IS-73-IS185989, IS-74-IS185989], instrumentHeight=[0, 0, 0, 0, 0, 0], stationName=[7-IS185989, 70-IS185989, 71-IS185989, 72-IS185989, 73-IS185989, 74-IS185989]}, ObservationGroup={id=[OG-1], ReducedObservation={azimuth=[302.504, 110.274, 359.512, 359.512, 200.274, 200.274], azimuthType=[measured, measured, measured, measured, measured, measured], distanceType=[measured, measured, measured, measured, measured, measured], equipmentUsed=[theodolite EDM, theodolite EDM, theodolite EDM, theodolite EDM, theodolite EDM, theodolite EDM], horizDistance=[10.81, 37.55, 52.12, 24.574, 2.002, 51.105], name=[3, 6, 4, 5, 7, 8], purpose=[traverse, traverse, traverse, traverse, traverse, traverse], setupID=[IS-7-IS185989, IS-72-IS185989, IS-70-IS185989, IS-71-IS185989, IS-73-IS185989, IS-74-IS185989], targetSetupID=[IS-70-IS185989, IS-73-IS185989, IS-71-IS185989, IS-72-IS185989, IS-74-IS185989, IS-7-IS185989]}}}, CoordinateSystem={datum=[OfPlan], desc=[Vide IS185958]}}}, value={LandXML={Units=, Parcels={Parcel={Center=, CoordGeom={Line={Start=, End=}}, Parcels={Parcel=}, Title=, Exclusions=, Feature={Property=}}}, CgPoints={CgPoint=98.30900000035763 254.29099999996834}, Survey={SurveyHeader={CoordinateSystem=, Personnel=, SurveyorCertificate=, AdministrativeArea=}, InstrumentSetup=, ObservationGroup={ReducedObservation=}}, CoordinateSystem=}}}"
			);
	}

	@Test
	void build1Exception() throws ParserConfigurationException {
		XmlConvert xmlConvert = new XmlConvert();

		String xmlError1 = "<test><code>M</code>";
		assertThatThrownBy(() -> xmlConvert.toMap(xmlError1))
			.isInstanceOf(IOException.class);

		String xmlError2 = "testcodeM";
		assertThatThrownBy(() -> xmlConvert.toMap(xmlError2))
			.isInstanceOf(IOException.class);

		String xmlError3 = "<test><code><1>6>9</code></test>";
		assertThatThrownBy(() -> xmlConvert.toMap(xmlError3))
			.isInstanceOf(IOException.class);

		String xmlError4 = "";
		assertThatThrownBy(() -> xmlConvert.toMap(xmlError4))
			.isInstanceOf(EmptyStackException.class);
	}
}
